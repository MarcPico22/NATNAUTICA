import{j as e,m as u,A}from"./animations-DS2FomTf.js";import{b as M,r as g}from"./vendor-C4fuUDY3.js";import{S as O}from"./Seo-VGcSCExS.js";import{B as S}from"./Button-C24NZqgx.js";import{S as B}from"./SectionHeader-D07d2kZF.js";import{u as L,s as D,g as z,C as m,F as N}from"./index-JG2sRC8l.js";import{u as H}from"./i18n-NDV7RJlR.js";import"./router-BUd29xcO.js";class V extends M.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("Contact ErrorBoundary caught an error:",n,r),this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsx("svg",{className:"mx-auto h-16 w-16 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Error en Contacto"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Ha ocurrido un problema con el formulario de contacto. Puedes contactarnos directamente por email."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("a",{href:"mailto:client@netnautica.com",className:"block w-full px-4 py-2 bg-brand-600 text-white rounded-full hover:bg-brand-500 transition-colors text-center",children:"Enviar Email Directo"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-full hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Recargar Página"})]}),e.jsxs("div",{className:"mt-6 text-sm text-slate-500 dark:text-slate-400",children:[e.jsx("p",{children:"Teléfono: +34 900 123 456"}),e.jsx("p",{children:"Email: client@netnautica.com"})]}),!1]})}):this.props.children}}const W={name:"",email:"",phone:"",company:"",role:"",website:"",service:"",budget:"",timeline:"",message:"",consent:!1},q=[["name","email","phone","company","role"],["service","budget","timeline","website"],["message","consent"]],ee=()=>{const{t,i18n:n}=H(),r=n.language,[s,i]=g.useState(W),[l,x]=g.useState(0),[o,_]=g.useState({}),[C,E]=g.useState("idle"),{trackFormSubmit:F,trackEvent:f}=L(),j=t("forms.selectPlaceholder"),P=g.useMemo(()=>D.map(a=>({value:a.slug,label:z(a.locales,r).name})),[r]),p=a=>{const{name:v,value:b,type:d,checked:h}=a.target;i(k=>({...k,[v]:d==="checkbox"?h:b}))},R=a=>{const v=q[a],b={};return v.forEach(d=>{const h=s[d];(d==="consent"&&!h||!h&&d!=="website")&&(b[d]=t("forms.required")),d==="email"&&h&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)||(b[d]=t("forms.invalidEmail"))),d==="phone"&&h&&(/^[+\d][\d\s()+-]{6,}$/.test(h)||(b[d]=t("forms.invalidPhone")))}),_(b),Object.keys(b).length===0},T=()=>{R(l)&&(l<N-1?(x(a=>a+1),f("form_step",{step_number:l+1,form_name:"contact"})):(E("submitting"),F("contact_form"),f("contact_form_submit",{service:s.service,budget:s.budget,timeline:s.timeline}),setTimeout(()=>{E("success"),f("contact_form_success")},600)))},$=()=>{x(a=>Math.max(a-1,0))},c={name:{label:t("contact.labels.name"),placeholder:t("contact.placeholders.name"),autoComplete:"name"},email:{label:t("contact.labels.email"),placeholder:t("contact.placeholders.email"),type:"email",autoComplete:"email"},phone:{label:t("contact.labels.phone"),placeholder:t("contact.placeholders.phone"),inputMode:"tel",autoComplete:"tel"},company:{label:t("contact.labels.company"),placeholder:t("contact.placeholders.company")},role:{label:t("contact.labels.role"),placeholder:t("contact.placeholders.role")},website:{label:t("contact.labels.website"),placeholder:t("contact.placeholders.website"),type:"url",autoComplete:"url"},service:{label:t("contact.labels.service")},budget:{label:t("contact.labels.budget"),options:t("contact.options.budget",{returnObjects:!0})},timeline:{label:t("contact.labels.timeline"),options:t("contact.options.timeline",{returnObjects:!0})},message:{label:t("contact.labels.message"),placeholder:t("contact.placeholders.message"),rows:5},consent:{label:t("contact.labels.consent")}};return e.jsxs(V,{children:[e.jsx(O,{title:t("contact.title"),description:t("contact.subtitle")}),e.jsxs(u.section,{className:"relative overflow-hidden contact-hero-bg text-white",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"absolute inset-0 -z-10","aria-hidden":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/80 via-black/40 to-transparent"})]}),e.jsxs("div",{className:"mx-auto grid max-w-6xl gap-12 px-4 pb-24 pt-24 sm:px-6 lg:grid-cols-[1fr_0.9fr] lg:px-8 relative z-10",children:[e.jsxs(u.div,{className:"space-y-8",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[e.jsx(B,{title:t("contact.title"),description:t("contact.subtitle"),className:"contact-section-header"}),e.jsxs(u.div,{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-900 dark:text-white",children:m.email}),e.jsx("a",{className:"mt-2 block text-sm text-brand-600",href:`mailto:${m.email}`,children:m.email}),e.jsxs("div",{className:"mt-4 space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-slate-900 dark:text-white",children:[t("footer.phone"),":"]})," ",e.jsx("a",{href:`tel:${m.phone[r].replace(/\s+/g,"")}`,children:m.phone[r]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"WhatsApp:"})," ",e.jsx("a",{href:`https://wa.me/${m.whatsapp[r].replace(/[^0-9]/g,"")}`,children:m.whatsapp[r]})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-slate-900 dark:text-white",children:[t("footer.address"),":"]})," ",m.address[r]]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-slate-900 dark:text-white",children:[t("footer.schedule"),":"]})," ",m.schedule[r]]})]}),e.jsx("div",{className:"mt-6 flex gap-3"})]})]}),e.jsxs("form",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-lg dark:border-slate-800 dark:bg-slate-900",noValidate:!0,children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:t("forms.step",{current:l+1,total:N})}),C==="success"?e.jsx("div",{className:"mt-6 rounded-3xl bg-brand-50 p-6 text-center text-sm text-brand-700 dark:bg-brand-500/10 dark:text-brand-200",children:t("contact.success")}):e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs(A,{mode:"wait",children:[l===0&&e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"grid gap-5 md:grid-cols-2",children:[["name","email","phone","company"].map(a=>e.jsx(w,{name:a,value:s[a],onChange:p,error:o[a],...c[a]},a)),e.jsx(w,{name:"role",value:s.role,onChange:p,error:o.role,...c.role})]},"step-0"),l===1&&e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"grid gap-5",children:[e.jsx(y,{name:"service",value:s.service,onChange:p,error:o.service,placeholder:j,options:P,...c.service}),e.jsx(y,{name:"budget",value:s.budget,onChange:p,error:o.budget,placeholder:j,options:(c.budget.options??[]).map(a=>({value:a,label:a})),...c.budget}),e.jsx(y,{name:"timeline",value:s.timeline,onChange:p,error:o.timeline,placeholder:j,options:(c.timeline.options??[]).map(a=>({value:a,label:a})),...c.timeline}),e.jsx(w,{name:"website",value:s.website,onChange:p,error:o.website,...c.website})]},"step-1"),l===2&&e.jsxs(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsx(I,{name:"message",value:s.message,onChange:p,error:o.message,...c.message}),e.jsxs("label",{className:"flex items-start gap-3 rounded-2xl border border-slate-200 bg-white p-4 text-sm text-slate-600 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-300",children:[e.jsx("input",{type:"checkbox",name:"consent",checked:s.consent,onChange:p,className:"mt-1 h-4 w-4 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),e.jsxs("span",{children:[c.consent.label," ",e.jsx("a",{href:"/legales/politica-de-privacidad",className:"font-semibold text-brand-600",children:t("legal.privacy")}),".",o.consent&&e.jsx("span",{className:"block text-xs text-red-500",children:o.consent})]})]})]},"step-2")]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l>0&&e.jsx(S,{type:"button",variant:"secondary",onClick:$,children:t("actions.previous")}),e.jsx(S,{type:"button",onClick:T,disabled:C==="submitting",children:l===N-1?t("actions.submit"):t("actions.next")})]})]})]})]})]})]})},w=({label:t,name:n,value:r,onChange:s,error:i,placeholder:l,type:x="text",...o})=>e.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600 dark:text-slate-300",children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t}),e.jsx("input",{className:`rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-900 shadow-sm transition focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-200 dark:border-slate-700 dark:bg-slate-950 dark:text-white ${i?"border-red-400 focus:border-red-500 focus:ring-red-100":""}`,type:x,name:n,value:r,onChange:s,placeholder:l,...o}),i&&e.jsx("span",{className:"text-xs text-red-500",children:i})]}),I=({label:t,name:n,value:r,onChange:s,error:i,placeholder:l,rows:x=4})=>e.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600 dark:text-slate-300",children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t}),e.jsx("textarea",{className:`rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-900 shadow-sm transition focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-200 dark:border-slate-700 dark:bg-slate-950 dark:text-white ${i?"border-red-400 focus:border-red-500 focus:ring-red-100":""}`,name:n,value:r,onChange:s,placeholder:l,rows:x}),i&&e.jsx("span",{className:"text-xs text-red-500",children:i})]}),y=({label:t,name:n,value:r,onChange:s,options:i=[],error:l,placeholder:x})=>e.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600 dark:text-slate-300",children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t}),e.jsxs("select",{name:n,value:r,onChange:s,className:`rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-900 shadow-sm transition focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-200 dark:border-slate-700 dark:bg-slate-950 dark:text-white ${l?"border-red-400 focus:border-red-500 focus:ring-red-100":""}`,children:[e.jsx("option",{value:"",children:x}),i.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))]}),l&&e.jsx("span",{className:"text-xs text-red-500",children:l})]});export{ee as default};
