import{j as e,m as h,A}from"./animations-DS2FomTf.js";import{b as M,r as u}from"./vendor-C4fuUDY3.js";import{S as O}from"./Seo-BVubSaRw.js";import{B as S}from"./Button-C24NZqgx.js";import{S as B}from"./SectionHeader-D07d2kZF.js";import{u as L,s as D,g as z,C as g,F as y}from"./index-fW_VUBCe.js";import{u as H}from"./i18n-NDV7RJlR.js";import"./router-BUd29xcO.js";class V extends M.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,o){console.error("Contact ErrorBoundary caught an error:",n,o),this.setState({error:n,errorInfo:o})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 max-w-md",children:[e.jsx("div",{className:"mb-6",children:e.jsx("svg",{className:"mx-auto h-16 w-16 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-4",children:"Error en Contacto"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Ha ocurrido un problema con el formulario de contacto. Puedes contactarnos directamente por email."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("a",{href:"mailto:client@netnautica.com",className:"block w-full px-4 py-2 bg-brand-600 text-white rounded-full hover:bg-brand-500 transition-colors text-center",children:"Enviar Email Directo"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-full hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Recargar Página"})]}),e.jsxs("div",{className:"mt-6 text-sm text-slate-500 dark:text-slate-400",children:[e.jsx("p",{children:"Teléfono: +34 900 123 456"}),e.jsx("p",{children:"Email: client@netnautica.com"})]}),!1]})}):this.props.children}}const W={name:"",email:"",phone:"",company:"",role:"",website:"",service:"",budget:"",timeline:"",message:"",consent:!1},q=[["name","email","phone","company","role"],["service","budget","timeline","website"],["message","consent"]],ee=()=>{const{t,i18n:n}=H(),o=n.language,[s,i]=u.useState(W),[r,m]=u.useState(0),[l,_]=u.useState({}),[C,E]=u.useState("idle"),{trackFormSubmit:F,trackEvent:f}=L(),j=t("forms.selectPlaceholder"),P=u.useMemo(()=>D.map(a=>({value:a.slug,label:z(a.locales,o).name})),[o]),x=a=>{const{name:v,value:b,type:d,checked:p}=a.target;i(k=>({...k,[v]:d==="checkbox"?p:b}))},R=a=>{const v=q[a],b={};return v.forEach(d=>{const p=s[d];(d==="consent"&&!p||!p&&d!=="website")&&(b[d]=t("forms.required")),d==="email"&&p&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p)||(b[d]=t("forms.invalidEmail"))),d==="phone"&&p&&(/^[+\d][\d\s()+-]{6,}$/.test(p)||(b[d]=t("forms.invalidPhone")))}),_(b),Object.keys(b).length===0},T=()=>{R(r)&&(r<y-1?(m(a=>a+1),f("form_step",{step_number:r+1,form_name:"contact"})):(E("submitting"),F("contact_form"),f("contact_form_submit",{service:s.service,budget:s.budget,timeline:s.timeline}),setTimeout(()=>{E("success"),f("contact_form_success")},600)))},$=()=>{m(a=>Math.max(a-1,0))},c={name:{label:t("contact.labels.name"),placeholder:t("contact.placeholders.name"),autoComplete:"name"},email:{label:t("contact.labels.email"),placeholder:t("contact.placeholders.email"),type:"email",autoComplete:"email"},phone:{label:t("contact.labels.phone"),placeholder:t("contact.placeholders.phone"),inputMode:"tel",autoComplete:"tel"},company:{label:t("contact.labels.company"),placeholder:t("contact.placeholders.company")},role:{label:t("contact.labels.role"),placeholder:t("contact.placeholders.role")},website:{label:t("contact.labels.website"),placeholder:t("contact.placeholders.website"),type:"url",autoComplete:"url"},service:{label:t("contact.labels.service")},budget:{label:t("contact.labels.budget"),options:t("contact.options.budget",{returnObjects:!0})},timeline:{label:t("contact.labels.timeline"),options:t("contact.options.timeline",{returnObjects:!0})},message:{label:t("contact.labels.message"),placeholder:t("contact.placeholders.message"),rows:5},consent:{label:t("contact.labels.consent")}};return e.jsxs(V,{children:[e.jsx(O,{title:t("contact.title"),description:t("contact.subtitle")}),e.jsxs(h.section,{className:"relative overflow-hidden contact-hero-bg text-white",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"absolute inset-0 -z-10","aria-hidden":"true",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/80 via-black/40 to-transparent"})]}),e.jsxs("div",{className:"mx-auto grid max-w-6xl gap-12 px-4 pb-24 pt-24 sm:px-6 lg:grid-cols-[1fr_0.9fr] lg:px-8 relative z-10",children:[e.jsxs(h.div,{className:"space-y-8",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[e.jsx(B,{title:t("contact.title"),description:t("contact.subtitle"),className:"contact-section-header"}),e.jsxs(h.div,{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[e.jsxs("div",{className:"mt-4 space-y-2 text-sm text-slate-600 dark:text-slate-300",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"Email:"})," ",e.jsx("a",{href:`mailto:${g.email}`,children:g.email})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:"WhatsApp:"})," ",e.jsx("a",{href:`https://wa.me/${g.whatsapp[o].replace(/[^0-9]/g,"")}`,children:g.whatsapp[o]})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold text-slate-900 dark:text-white",children:[t("footer.address"),":"]})," ",g.address[o]]})]}),e.jsx("div",{className:"mt-6 flex gap-3"})]})]}),e.jsxs("form",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-lg dark:border-slate-800 dark:bg-slate-900",noValidate:!0,children:[e.jsx("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400",children:t("forms.step",{current:r+1,total:y})}),C==="success"?e.jsx("div",{className:"mt-6 rounded-3xl bg-brand-50 p-6 text-center text-sm text-brand-700 dark:bg-brand-500/10 dark:text-brand-200",children:t("contact.success")}):e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs(A,{mode:"wait",children:[r===0&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"grid gap-5 md:grid-cols-2",children:[["name","email","phone","company"].map(a=>e.jsx(w,{name:a,value:s[a],onChange:x,error:l[a],...c[a]},a)),e.jsx(w,{name:"role",value:s.role,onChange:x,error:l.role,...c.role})]},"step-0"),r===1&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"grid gap-5",children:[e.jsx(N,{name:"service",value:s.service,onChange:x,error:l.service,placeholder:j,options:P,...c.service}),e.jsx(N,{name:"budget",value:s.budget,onChange:x,error:l.budget,placeholder:j,options:(c.budget.options??[]).map(a=>({value:a,label:a})),...c.budget}),e.jsx(N,{name:"timeline",value:s.timeline,onChange:x,error:l.timeline,placeholder:j,options:(c.timeline.options??[]).map(a=>({value:a,label:a})),...c.timeline}),e.jsx(w,{name:"website",value:s.website,onChange:x,error:l.website,...c.website})]},"step-1"),r===2&&e.jsxs(h.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"space-y-6",children:[e.jsx(I,{name:"message",value:s.message,onChange:x,error:l.message,...c.message}),e.jsxs("label",{className:"flex items-start gap-3 rounded-2xl border border-slate-200 bg-white p-4 text-sm text-slate-600 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-300",children:[e.jsx("input",{type:"checkbox",name:"consent",checked:s.consent,onChange:x,className:"mt-1 h-4 w-4 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),e.jsxs("span",{children:[c.consent.label," ",e.jsx("a",{href:"/legales/politica-de-privacidad",className:"font-semibold text-brand-600",children:t("legal.privacy")}),".",l.consent&&e.jsx("span",{className:"block text-xs text-red-500",children:l.consent})]})]})]},"step-2")]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[r>0&&e.jsx(S,{type:"button",variant:"secondary",onClick:$,children:t("actions.previous")}),e.jsx(S,{type:"button",onClick:T,disabled:C==="submitting",children:r===y-1?t("actions.submit"):t("actions.next")})]})]})]})]})]})]})},w=({label:t,name:n,value:o,onChange:s,error:i,placeholder:r,type:m="text",...l})=>e.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600 dark:text-slate-300",children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t}),e.jsx("input",{className:`rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-900 shadow-sm transition focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-200 dark:border-slate-700 dark:bg-slate-950 dark:text-white ${i?"border-red-400 focus:border-red-500 focus:ring-red-100":""}`,type:m,name:n,value:o,onChange:s,placeholder:r,...l}),i&&e.jsx("span",{className:"text-xs text-red-500",children:i})]}),I=({label:t,name:n,value:o,onChange:s,error:i,placeholder:r,rows:m=4})=>e.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600 dark:text-slate-300",children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t}),e.jsx("textarea",{className:`rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-900 shadow-sm transition focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-200 dark:border-slate-700 dark:bg-slate-950 dark:text-white ${i?"border-red-400 focus:border-red-500 focus:ring-red-100":""}`,name:n,value:o,onChange:s,placeholder:r,rows:m}),i&&e.jsx("span",{className:"text-xs text-red-500",children:i})]}),N=({label:t,name:n,value:o,onChange:s,options:i=[],error:r,placeholder:m})=>e.jsxs("label",{className:"flex flex-col gap-2 text-sm text-slate-600 dark:text-slate-300",children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t}),e.jsxs("select",{name:n,value:o,onChange:s,className:`rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm font-medium text-slate-900 shadow-sm transition focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-200 dark:border-slate-700 dark:bg-slate-950 dark:text-white ${r?"border-red-400 focus:border-red-500 focus:ring-red-100":""}`,children:[e.jsx("option",{value:"",children:m}),i.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))]}),r&&e.jsx("span",{className:"text-xs text-red-500",children:r})]});export{ee as default};
